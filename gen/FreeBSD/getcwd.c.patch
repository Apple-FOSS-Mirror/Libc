--- getcwd.c.orig	Thu Jan  9 18:58:25 2003
+++ getcwd.c	Sat May  3 14:04:22 2003
@@ -54,8 +54,6 @@
 	(dp->d_name[0] == '.' && (dp->d_name[1] == '\0' || \
 	    (dp->d_name[1] == '.' && dp->d_name[2] == '\0')))
 
-extern int __getcwd(char *, size_t);
-
 char *
 getcwd(pt, size)
 	char *pt;
@@ -95,20 +93,6 @@
 			return (NULL);
 		ept = pt + ptsize;
 	}
-#if	!defined(__NETBSD_SYSCALLS)
-	if (__getcwd(pt, ept - pt) == 0) {
-		if (*pt != '/') {
-			bpt = pt;
-			ept = pt + strlen(pt) - 1;
-			while (bpt < ept) {
-				c = *bpt;
-				*bpt++ = *ept;
-				*ept-- = c;
-			}
-		}
-		return (pt);
-	}
-#endif
 	bpt = ept - 1;
 	*bpt = '\0';
 
